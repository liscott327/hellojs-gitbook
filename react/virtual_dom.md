#Virtual DOM

###為何要使用Virtual Dom?

DOM的處理在像jQuery這些的函式庫出現後，變得容易許多，但具有愈來愈多資料的應用程式網站，整個網頁的DOM結構變得愈來愈複雜而且龐大，但有些時候我們只是僅僅只做耶些小更動就要全部重繪，這樣太浪費效能，而Virtual DOM會透過標記找到真正需要重繪的部分，有效節省不必要重繪部分的效能。


* 從Virtual DOM 生成DOM 帶來了一些好處

* 標籤之間的空格從一開始就被排除，不會帶來意外的空白元素的字符串被自動轉義，不會那麼容易導致代碼注入
* JSON 的Tree 很容易組合，組件化很自然就實現出來了
同時，JavaScript 可以在Node.js 和瀏覽器同時運行，能夠共享代碼同時得益於DOM 會自動完成Diff 和Patch，DOM 樹就能夠自動隨著數據改變進行更新，更新DOM 。就像是MVC 描述的那樣，Model 被更新，View 就跟著更新，就這麼簡單


###Virtual DOM

* 是一份純資料的 Tree 物件，對應到實際的 DOM

* 是自定義 Component 提供了中介的虛擬層，讓開發者能描述 UI 樣貌與邏輯

我們透過定義 Component 來表達「UI 什麼情況該如何呈現」。而「要用什麼手段來達到這個畫面改變（如何操作 DOM）」 ，React 則會自動幫你做，而且絕大多數情況下都比你自己來要做的更好

###Single Source of Truth
* UI 要長得如何，應當是取決於當時的 Model 資料以及 UI 狀態而決定

* 把畫面全部洗掉重新再畫，顯示結果通常一定是正確的

* 每次都重繪全部的實體 DOM 顯然是不可行，但是重繪 VDOM 則相對高效許多


當畫面需要改變時，根據最新的 UI 狀態重繪出新的 VDOM Tree並與改變前的舊 VDOM Tree 進行全面式的比較與計算，其中新舊差異的地方，才真的會在實際的 DOM 上發生操作改變
